
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h1>Employer Waiting for Confirmation </h1>
            <style type="text/css">
                table.blueTable {
                    border: 0px solid #1C6EA4;
                    background-color: #EEEEEE;
                    width: 100%;
                    text-align: center;
                    border-collapse: collapse;
                  }
                  table.blueTable td, table.blueTable th {
                    border: 1px solid #AAAAAA;
                    padding: 4px 2px;
                  }
                  table.blueTable tbody td {
                    font-size: 19px;
                    font-weight: bold;
                  }
                  table.blueTable tr:nth-child(even) {
                    background: #D0E4F5;
                  }
                  table.blueTable thead {
                    background: #1C6EA4;
                    background: -moz-linear-gradient(top, #5592bb 0%, #327cad 66%, #1C6EA4 100%);
                    background: -webkit-linear-gradient(top, #5592bb 0%, #327cad 66%, #1C6EA4 100%);
                    background: linear-gradient(to bottom, #5592bb 0%, #327cad 66%, #1C6EA4 100%);
                    border-bottom: 2px solid #444444;
                  }
                  table.blueTable thead th {
                    font-size: 18px;
                    font-weight: bold;
                    color: #FFFFFF;
                    text-align: center;
                    border-left: 2px solid #D0E4F5;
                  }
                  table.blueTable thead th:first-child {
                    border-left: none;
                  }
                  
                  table.blueTable tfoot {
                    font-size: 12px;
                    font-weight: bold;
                    color: #FFFFFF;
                    background: #D0E4F5;
                    background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
                    background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
                    background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
                    border-top: 2px solid #444444;
                  }
                  table.blueTable tfoot td {
                    font-size: 12px;
                  }
                  table.blueTable tfoot .links {
                    text-align: right;
                  }
                  table.blueTable tfoot .links a{
                    display: inline-block;
                    background: #1C6EA4;
                    color: #FFFFFF;
                    padding: 2px 8px;
                    border-radius: 5px;
                  }
                  .message p {
                    padding: 10px;
                    border-radius: 5px;
                  }
                  .success {
                    background-color: #dff0d8;
                    color: #3c763d;
                    border: 1px solid #d6e9c6;
                  }
                  .error {
                    background-color: #f2dede;
                    color: #a94442;
                    border: 1px solid #ebccd1;
                  }
                </style>
                <table class="tg" style="undefined;table-layout: fixed; width: 790px">
                <colgroup>
                <col style="width: 171px">
                <col style="width: 196px">
                <col style="width: 196px">
                <col style="width: 207px">
                <col style="width: 20px">
                </colgroup>


               
                <table class="blueTable">
                  <thead>
                    <tr>
                      <th>Username</th>
                      <th>approved</th>
                    </tr>
                  </thead>
                  {% for data in form %}
                  <form action="update_user_status" method="post">
                    {% csrf_token %}
                    <input type="hidden" name="user_id" value="{{ data.id }}">
                    <tbody>
                      <tr>
                        <td>{{data.username}}</td>
                        <td> <button type="submit" class="save btn btn-default">approved</button></td>
                      </tr>
                    </tbody>                    
                  </form>
                  {% endfor %}
                </table>
                <div class="message"></div>
          
          <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
          <script>
            {% csrf_token %}

            $('.save').click(function(event) {
              event.preventDefault();
          
              var form = $(this).closest('form');
              var url = form.attr('action');
              var data = form.serialize();
          
              $.ajax({
                url: '/appr/',
                type: 'POST',
                headers: {
                  'X-CSRFToken': getCookie('csrftoken')
                },
                success: function(response) {
                  // Handle the success response
                },
                error: function(response) {
                  // Handle the error response
                },
              });
              
          </script>
          {% endblock content %}